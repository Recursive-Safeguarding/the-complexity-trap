# Bedrock reproduction sweep: Qwen3 32B Ã— 4 strategies (paper configs)
#
# Main model:        bedrock-qwen3-32b (qwen.qwen3-32b-v1:0)
# Summarizer model:  bedrock-nova-pro (temporary substitute when Anthropic isn't enabled on Bedrock)

program: scripts/run_sweep.py
method: grid
metric:
  name: submission_rate
  goal: maximize

parameters:
  model:
    value: bedrock-qwen3-32b

  strategy:
    values:
      - raw
      - observation_masking
      - llm_summary
      - hybrid

  # Used for llm_summary/hybrid. Ignored for raw/observation_masking.
  summarizer_model:
    value: bedrock-nova-pro

  instances_subset:
    value: verified

  # ":500" for full SWE-bench Verified, or ":50" for a smaller run
  instances_slice:
    value: ":50"

  instances_shuffle:
    value: false

  instances_shuffle_seed:
    value: 42

  call_limit:
    value: 250

  cost_limit:
    value: 0.0

  num_workers:
    value: 1

command:
  - ${env}
  - python
  - ${program}
  - --model
  - ${model}
  - --strategy
  - ${strategy}
  - --summarizer-model
  - ${summarizer_model}
  - --instances-subset
  - ${instances_subset}
  - --instances-slice
  - ${instances_slice}
  - --instances-shuffle
  - ${instances_shuffle}
  - --instances-shuffle-seed
  - ${instances_shuffle_seed}
  - --call-limit
  - ${call_limit}
  - --cost-limit
  - ${cost_limit}
  - --num-workers
  - ${num_workers}
  - --wandb
  - --wandb-project
  - complexity-trap-bedrock
