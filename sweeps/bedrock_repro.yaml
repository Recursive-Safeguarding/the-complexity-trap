# Bedrock reproduction: Qwen3-32B Ã— 4 strategies (paper configs)
# Main model: bedrock-qwen3-32b (qwen.qwen3-32b-v1:0)
# Summarizer: bedrock-nova-pro

program: scripts/run_sweep.py
method: grid
metric: {name: submission_rate, goal: maximize}

parameters:
  model: {value: bedrock-qwen3-32b}
  strategy: {values: [raw, observation_masking, llm_summary, hybrid]}
  summarizer-model: {value: bedrock-nova-pro}
  instances-subset: {value: verified}
  instances-slice: {value: ":20"}
  instances-shuffle: {value: false}
  instances-shuffle-seed: {value: 42}
  call-limit: {value: 250}
  cost-limit: {value: 0.0}
  num-workers: {value: 1}
  # Paper's values (o=10, s=21, k=10)
  hp-obs-n: {value: 10}
  hp-sum-n: {value: 21}
  hp-sum-keep-m: {value: 10}

command:
  - ${env}
  - python
  - ${program}
  - ${args}
  - --wandb
  - --wandb-project=complexity-trap-bedrock
